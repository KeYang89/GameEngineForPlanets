<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>V√∏id-Thr√¶x ¬∑ Ocean Depths</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Crimson+Pro:ital,wght@0,300;0,400;1,300&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
  background: #000308;
  font-family: 'Crimson Pro', serif;
  overflow: hidden;
  width: 100vw; height: 100vh;
  cursor: none;
}
#cursor {
  position: fixed;
  width: 12px; height: 12px;
  border: 1.5px solid rgba(0,255,200,0.8);
  border-radius: 50%;
  pointer-events: none;
  z-index: 9999;
  transform: translate(-50%,-50%);
  box-shadow: 0 0 8px rgba(0,255,200,0.5);
  transition: width 0.15s, height 0.15s, border-color 0.15s;
}
canvas { display:block; position:fixed; top:0; left:0; }

/* Depth ruler */
#depth-ruler {
  position: fixed; left:0; top:0; bottom:0; width:52px;
  background: rgba(0,4,10,0.88);
  border-right: 1px solid rgba(0,255,200,0.1);
  z-index: 50;
  display: flex; flex-direction: column; padding-top: 70px;
}
.depth-mark {
  flex:1; display:flex; align-items:center; padding:0 6px;
  border-bottom:1px solid rgba(0,255,200,0.06);
  position:relative;
}
.depth-mark::after {
  content:''; position:absolute; right:0;
  width:8px; height:1px; background:rgba(0,255,200,0.25);
}
.depth-num { font-family:'Cinzel Decorative',serif; font-size:0.44rem; color:rgba(0,200,170,0.5); letter-spacing:0.05em; }

/* Zone panel */
#zones {
  position:fixed; right:0; top:0; bottom:0; width:196px;
  background:rgba(0,4,10,0.88);
  border-left:1px solid rgba(0,255,200,0.1);
  z-index:50; padding:70px 12px 16px;
  display:flex; flex-direction:column; gap:2px; overflow:hidden;
}
.zone-block {
  flex:var(--flex); border-left:2px solid var(--zc);
  padding: 0 6px 0 10px;
  display:flex; flex-direction:column; justify-content:center;
  cursor:pointer; border-radius:0 4px 4px 0;
  transition: background 0.2s;
}
.zone-block:hover { background:rgba(255,255,255,0.03); }
.zone-name { font-family:'Cinzel Decorative',serif; font-size:0.58rem; color:var(--zc); letter-spacing:0.1em; text-transform:uppercase; text-shadow:0 0 8px var(--zc); }
.zone-glyph { font-size:0.5rem; color:rgba(0,200,170,0.3); letter-spacing:0.05em; margin-top:1px; }
.zone-desc { font-size:0.6rem; color:rgba(150,200,190,0.5); line-height:1.4; margin-top:3px; font-style:italic; display:none; }
.zone-block:hover .zone-desc { display:block; }

/* Top bar */
#topbar {
  position:fixed; top:0; left:0; right:0; height:60px;
  background:rgba(0,4,12,0.95);
  border-bottom:1px solid rgba(0,255,200,0.12);
  z-index:60; display:flex; align-items:center;
  padding:0 58px; gap:24px;
}
#topbar h1 { font-family:'Cinzel Decorative',serif; font-size:0.9rem; color:rgba(0,255,200,0.85); text-shadow:0 0 16px rgba(0,255,200,0.3); letter-spacing:0.14em; white-space:nowrap; }
.tdiv { width:1px; height:26px; background:rgba(0,255,200,0.14); flex-shrink:0; }
.tstat { display:flex; flex-direction:column; gap:2px; flex-shrink:0; }
.tstat-k { font-size:0.5rem; letter-spacing:0.18em; color:rgba(0,200,170,0.4); font-family:'Cinzel Decorative',serif; }
.tstat-v { font-size:0.68rem; color:rgba(0,255,200,0.8); font-family:'Cinzel Decorative',serif; letter-spacing:0.08em; }

/* Tooltip */
#tooltip {
  position:fixed; background:rgba(0,5,15,0.97);
  border:1px solid rgba(0,255,200,0.3); border-radius:8px;
  padding:10px 14px; max-width:220px; z-index:200;
  pointer-events:none; opacity:0; transition:opacity 0.15s;
  box-shadow:0 0 20px rgba(0,255,200,0.08);
}
#tooltip.show { opacity:1; }
#tooltip strong { display:block; font-family:'Cinzel Decorative',serif; font-size:0.65rem; color:rgba(0,255,200,0.9); letter-spacing:0.08em; margin-bottom:5px; }
#tooltip p { font-size:0.73rem; color:rgba(160,210,200,0.8); line-height:1.55; font-style:italic; }
.stat-tag { display:inline-block; margin-top:6px; font-size:0.56rem; letter-spacing:0.1em; padding:2px 8px; border-radius:10px; border:1px solid var(--tc,rgba(0,255,200,0.4)); color:var(--tc,rgba(0,255,200,0.7)); font-family:'Cinzel Decorative',serif; }

body::after { content:''; position:fixed; inset:0; background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,255,200,0.007) 3px,rgba(0,255,200,0.007) 4px); pointer-events:none; z-index:997; }
</style>
</head>
<body>
<div id="cursor"></div>
<canvas id="c"></canvas>

<div id="topbar">
  <h1>V √ò I D - T H R √Ü X  ¬∑  O C E A N  D E P T H S</h1>
  <div class="tdiv"></div>
  <div class="tstat"><span class="tstat-k">OCEAN</span><span class="tstat-v">Nul-Thrix Sea</span></div>
  <div class="tdiv"></div>
  <div class="tstat"><span class="tstat-k">COMPOSITION</span><span class="tstat-v">Void-Brine + Dark Matter</span></div>
  <div class="tdiv"></div>
  <div class="tstat"><span class="tstat-k">BIOLUME INDEX</span><span class="tstat-v">CLASS Œ©</span></div>
</div>

<div id="depth-ruler">
  <div class="depth-mark"><span class="depth-num">0 m</span></div>
  <div class="depth-mark"><span class="depth-num">200 m</span></div>
  <div class="depth-mark"><span class="depth-num">500 m</span></div>
  <div class="depth-mark"><span class="depth-num">1 km</span></div>
  <div class="depth-mark"><span class="depth-num">2 km</span></div>
  <div class="depth-mark"><span class="depth-num">5 km</span></div>
  <div class="depth-mark"><span class="depth-num">10 km</span></div>
  <div class="depth-mark"><span class="depth-num">‚àû</span></div>
</div>

<div id="zones">
  <div class="zone-block" style="--flex:1;--zc:rgba(0,255,200,0.8)">
    <span class="zone-name">Surface</span>
    <span class="zone-glyph">ÍóÅíê´Íñê ¬∑ 0‚Äì200m</span>
    <span class="zone-desc">Bioluminescent tide layer. Void-spores drift upward. Moonlight from Keth &amp; Vraal penetrates here.</span>
  </div>
  <div class="zone-block" style="--flex:1.2;--zc:rgba(0,200,160,0.7)">
    <span class="zone-name">Glow Zone</span>
    <span class="zone-glyph">íÄ≠ÍóüÍñ° ¬∑ 200‚Äì800m</span>
    <span class="zone-desc">Dense bioluminescent coral forests. Null-jellyfish colonies thrive. Light from living organisms only.</span>
  </div>
  <div class="zone-block" style="--flex:1.5;--zc:rgba(100,80,255,0.7)">
    <span class="zone-name">Void Mid</span>
    <span class="zone-glyph">Íñ∏íÖíÍóü ¬∑ 800m‚Äì3km</span>
    <span class="zone-desc">Dark matter currents. Leviathans hunt. Pressure warps biology into unfamiliar shapes.</span>
  </div>
  <div class="zone-block" style="--flex:1.8;--zc:rgba(180,0,255,0.6)">
    <span class="zone-name">Soul Trench</span>
    <span class="zone-glyph">íê™Íó•Íñ° ¬∑ 3‚Äì8km</span>
    <span class="zone-desc">Bio-electric soul residue pools here for millennia. The Vy'krath harvest it with drill-probes.</span>
  </div>
  <div class="zone-block" style="--flex:2;--zc:rgba(255,0,100,0.6)">
    <span class="zone-name">Null Abyss</span>
    <span class="zone-glyph">íÖíÍóÅíê´ ¬∑ 8km‚Äì‚àû</span>
    <span class="zone-desc">No light. No sound. Something vast and ancient breathes here. Mapped only once.</span>
  </div>
</div>

<div id="tooltip">
  <strong id="tt-name"></strong>
  <p id="tt-desc"></p>
  <span class="stat-tag" id="tt-tag"></span>
</div>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
const cursorEl = document.getElementById('cursor');
const tooltip  = document.getElementById('tooltip');
const ttName   = document.getElementById('tt-name');
const ttDesc   = document.getElementById('tt-desc');
const ttTag    = document.getElementById('tt-tag');

let W, H, t = 0, mx = 0, my = 0;

function resize() {
  W = canvas.width  = window.innerWidth;
  H = canvas.height = window.innerHeight;
}
resize();
window.addEventListener('resize', resize);

document.addEventListener('mousemove', e => { mx = e.clientX; my = e.clientY; cursorEl.style.left = mx+'px'; cursorEl.style.top = my+'px'; });

// ‚îÄ‚îÄ Stable seeded pseudo-random (no Math.random in draw loop for stable terrain)
function sr(seed) { let x = Math.sin(seed + 1) * 43758.5453123; return x - Math.floor(x); }

// ‚îÄ‚îÄ Hotspot list rebuilt each frame
const hotspots = [];
function hs(x, y, r, name, desc, tag, tc) { hotspots.push({x, y, r, name, desc, tag, tc: tc || '0,255,200'}); }

// ‚îÄ‚îÄ Robust glow circle ‚Äî accepts r,g,b as separate numbers
// col = solid fill color string, r/g/b for the glow radial gradient
function gCirc(x, y, radius, col, gr, gg, gb, alpha) {
  if (alpha === undefined) alpha = 1;
  const rg = ctx.createRadialGradient(x, y, 0, x, y, radius * 2.5);
  rg.addColorStop(0, 'rgba('+gr+','+gg+','+gb+','+(alpha * 0.35)+')');
  rg.addColorStop(1, 'transparent');
  ctx.beginPath();
  ctx.arc(x, y, radius * 2.5, 0, Math.PI * 2);
  ctx.fillStyle = rg;
  ctx.fill();
  ctx.beginPath();
  ctx.arc(x, y, radius, 0, Math.PI * 2);
  ctx.fillStyle = col;
  ctx.globalAlpha = alpha;
  ctx.fill();
  ctx.globalAlpha = 1;
}

// ‚îÄ‚îÄ Draw rounded rectangle without ctx.roundRect (compatibility)
function roundRect(x, y, w, h, r) {
  ctx.beginPath();
  ctx.moveTo(x + r, y);
  ctx.lineTo(x + w - r, y);
  ctx.quadraticCurveTo(x + w, y, x + w, y + r);
  ctx.lineTo(x + w, y + h - r);
  ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
  ctx.lineTo(x + r, y + h);
  ctx.quadraticCurveTo(x, y + h, x, y + h - r);
  ctx.lineTo(x, y + r);
  ctx.quadraticCurveTo(x, y, x + r, y);
  ctx.closePath();
}

// ‚îÄ‚îÄ Wave helper
function drawWave(yBase, amp, period, speed, phase, col, alpha) {
  ctx.beginPath();
  ctx.moveTo(0, H);
  for (let x = 0; x <= W; x += 2) {
    const wy = yBase + Math.sin((x/period) + t*speed + phase)*amp + Math.sin((x/(period*0.6))+t*speed*1.4)*amp*0.35;
    ctx.lineTo(x, wy);
  }
  ctx.lineTo(W, H); ctx.lineTo(0, H);
  ctx.closePath();
  ctx.fillStyle = col;
  ctx.globalAlpha = alpha;
  ctx.fill();
  ctx.globalAlpha = 1;
}

// ‚îÄ‚îÄ Main draw
function draw() {
  t += 0.007;
  ctx.clearRect(0, 0, W, H);
  hotspots.length = 0;

  const L = 52, R = 196, TOP = 60;
  const OW = W - L - R, OH = H - TOP;

  // Background gradient
  const bg = ctx.createLinearGradient(L, TOP, L, H);
  bg.addColorStop(0.00, '#010d1a');
  bg.addColorStop(0.30, '#010810');
  bg.addColorStop(0.55, '#04031a');
  bg.addColorStop(0.78, '#09011c');
  bg.addColorStop(1.00, '#110012');
  ctx.fillStyle = bg;
  ctx.fillRect(L, TOP, OW, OH);

  // Zone tints
  const zones = [
    {y:0.00, h:0.13, col:'rgba(0,60,50,0.16)'},
    {y:0.13, h:0.18, col:'rgba(0,40,80,0.10)'},
    {y:0.31, h:0.24, col:'rgba(30,0,80,0.09)'},
    {y:0.55, h:0.25, col:'rgba(60,0,100,0.09)'},
    {y:0.80, h:0.20, col:'rgba(80,0,40,0.11)'},
  ];
  for (const z of zones) { ctx.fillStyle = z.col; ctx.fillRect(L, TOP + z.y*OH, OW, z.h*OH); }

  // Zone dividers
  ctx.setLineDash([6,10]);
  ctx.strokeStyle = 'rgba(0,255,200,0.065)';
  ctx.lineWidth = 1;
  for (const d of [0.13, 0.31, 0.55, 0.80]) {
    const dy0 = TOP + d*OH;
    ctx.beginPath(); ctx.moveTo(L, dy0); ctx.lineTo(W-R, dy0); ctx.stroke();
  }
  ctx.setLineDash([]);

  // Surface waves
  for (let i = 3; i >= 0; i--) {
    drawWave(TOP + 14 + i*10, 8 - i*1.5, 180 + i*40, 0.8 - i*0.15, i, `rgba(0,${30+i*15},${40+i*20},1)`, 0.25 - i*0.05);
  }

  // Moon-light shafts from surface
  for (let i = 0; i < 6; i++) {
    const sx = L + OW*(0.1 + i*0.15 + Math.sin(t*0.2+i)*0.03);
    const sw = 16 + i*7;
    const sh = OH*(0.22 + i*0.01);
    const sg = ctx.createLinearGradient(sx, TOP, sx, TOP+sh);
    sg.addColorStop(0, `rgba(0,180,150,${0.04+(i%2)*0.02})`);
    sg.addColorStop(1, 'transparent');
    ctx.beginPath();
    ctx.moveTo(sx - sw*0.5, TOP);
    ctx.lineTo(sx + sw*0.5, TOP);
    ctx.lineTo(sx + sw*1.8, TOP+sh);
    ctx.lineTo(sx - sw*1.8, TOP+sh);
    ctx.closePath();
    ctx.fillStyle = sg; ctx.fill();
  }

  // ‚îÄ‚îÄ SEAFLOOR
  const floorY = H - 55;
  ctx.beginPath(); ctx.moveTo(L, H);
  for (let x = L; x <= W-R; x += 4) {
    const xi = (x-L)/OW;
    const fy = floorY + sr(xi*30)*55 - 27 + Math.sin(xi*Math.PI*4)*18 + Math.sin(xi*Math.PI*11)*7;
    ctx.lineTo(x, fy);
  }
  ctx.lineTo(W-R, H); ctx.lineTo(L, H); ctx.closePath();
  const floorG = ctx.createLinearGradient(0, floorY-30, 0, H);
  floorG.addColorStop(0, '#12001e'); floorG.addColorStop(0.3, '#180025'); floorG.addColorStop(1, '#0a0010');
  ctx.fillStyle = floorG; ctx.fill();

  // Floor edge glow
  const feg = ctx.createLinearGradient(0, floorY-40, 0, floorY+15);
  feg.addColorStop(0, 'rgba(100,0,180,0.1)'); feg.addColorStop(1, 'transparent');
  ctx.fillStyle = feg; ctx.fillRect(L, floorY-40, OW, 55);

  // ‚îÄ‚îÄ BIOLUME DEPTH GLOWS (ambient)
  for (let i = 0; i < 5; i++) {
    const gx = (Math.sin(t*0.18 + i*1.3)*0.5 + 0.5)*W;
    const gy = H*(0.4 + i*0.1);
    const gr = ctx.createRadialGradient(gx, gy, 0, gx, gy, 190+i*70);
    gr.addColorStop(0, `rgba(0,70,55,${0.055+i*0.008})`);
    gr.addColorStop(1, 'transparent');
    ctx.fillStyle = gr; ctx.fillRect(0, 0, W, H);
  }

  // ‚îÄ‚îÄ DARK MATTER CURRENT RIBBONS
  for (let ri = 0; ri < 3; ri++) {
    const ry0 = TOP + OH*(0.35 + ri*0.18);
    ctx.beginPath();
    for (let x = L; x <= W-R; x += 4) {
      const wy = ry0 + Math.sin((x/300)+t*0.4+ri*2)*24 + Math.sin((x/120)+t*0.7)*9;
      x === L ? ctx.moveTo(x, wy) : ctx.lineTo(x, wy);
    }
    ctx.strokeStyle = `rgba(100,0,200,${0.04+ri*0.02})`;
    ctx.lineWidth = 18; ctx.stroke();
  }

  // ‚îÄ‚îÄ FLOATING BIOLUME PARTICLES
  for (let i = 0; i < 55; i++) {
    const fpx = L + sr(i*2.1)*OW;
    const fpy = TOP + sr(i*3.7)*OH*0.85;
    const fpr = 1 + sr(i)*2.2;
    const fpa = 0.1 + sr(i*5)*0.3;
    const PCOLS = [[0,255,200],[191,0,255],[57,255,20],[255,78,163]];
    const pc = PCOLS[i%4];
    const fpox = fpx + Math.sin(t*0.6+i)*7;
    const fpoy = fpy + Math.cos(t*0.4+i*0.7)*4;
    gCirc(fpox, fpoy, fpr, `rgba(${pc[0]},${pc[1]},${pc[2]},${fpa})`, pc[0], pc[1], pc[2], fpa);
  }

  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  // 1. BIOLUME CORAL FOREST
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function drawCoral(cx, baseY, height, hexCol, gr, gg, gb, seed) {
    const branches = 3 + Math.floor(sr(seed)*3);
    for (let b = 0; b < branches; b++) {
      const angle = -Math.PI/2 + (b - branches/2)*0.44 + Math.sin(t*0.5+seed+b)*0.08;
      const bh = height*(0.6 + sr(seed+b)*0.4);
      const ex = cx + Math.cos(angle)*bh;
      const ey = baseY + Math.sin(angle)*bh;
      const qcx = cx + Math.cos(angle+0.3)*bh*0.5;
      const qcy = baseY + Math.sin(angle+0.3)*bh*0.5;
      ctx.beginPath(); ctx.moveTo(cx, baseY);
      ctx.quadraticCurveTo(qcx, qcy, ex, ey);
      ctx.strokeStyle = hexCol;
      ctx.lineWidth = 2 + sr(seed+b)*3;
      ctx.globalAlpha = 0.6 + Math.sin(t*1.5+seed+b)*0.2;
      ctx.stroke(); ctx.globalAlpha = 1;
      const tipA = 0.5 + Math.sin(t*2+seed+b)*0.3;
      gCirc(ex, ey, 4+sr(seed+b)*4, hexCol, gr, gg, gb, tipA);
      hs(ex, ey, 16, 'Void-Coral ¬∑ Íó•Íñ∏', "Living antenna structures emitting the Vy'krath neural frequency. Each tip is a nerve ending of the island's hive mind.", 'BIOLUME ¬∑ CLASS Œ©', `${gr},${gg},${gb}`);
    }
  }

  const CORALS = [
    {x:L+OW*0.06, y:floorY-8,  h:-OH*0.20, hex:'#ff4ea3', gr:255,gg:78, gb:163, s:1.0},
    {x:L+OW*0.12, y:floorY-4,  h:-OH*0.28, hex:'#00ffe7', gr:0,  gg:255,gb:231, s:8.3},
    {x:L+OW*0.17, y:floorY-7,  h:-OH*0.18, hex:'#bf00ff', gr:191,gg:0,  gb:255, s:15.6},
    {x:L+OW*0.22, y:floorY-11, h:-OH*0.30, hex:'#ff4ea3', gr:255,gg:78, gb:163, s:22.9},
    {x:L+OW*0.56, y:floorY-5,  h:-OH*0.22, hex:'#00ffe7', gr:0,  gg:255,gb:231, s:30.2},
    {x:L+OW*0.63, y:floorY-9,  h:-OH*0.26, hex:'#39ff14', gr:57, gg:255,gb:20,  s:37.5},
    {x:L+OW*0.69, y:floorY-3,  h:-OH*0.17, hex:'#ff4ea3', gr:255,gg:78, gb:163, s:44.8},
    {x:L+OW*0.76, y:floorY-7,  h:-OH*0.29, hex:'#bf00ff', gr:191,gg:0,  gb:255, s:52.1},
    {x:L+OW*0.83, y:floorY-5,  h:-OH*0.19, hex:'#00ffe7', gr:0,  gg:255,gb:231, s:59.4},
    {x:L+OW*0.89, y:floorY-2,  h:-OH*0.15, hex:'#39ff14', gr:57, gg:255,gb:20,  s:66.7},
  ];
  for (const c of CORALS) drawCoral(c.x, c.y, c.h, c.hex, c.gr, c.gg, c.gb, c.s);

  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  // 2. NULL-JELLYFISH
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function drawJellyfish(jx, jy, jr, cr, cg, cb, seed) {
    const bob = Math.sin(t*0.8+seed)*12;
    const jcy = jy + bob;
    ctx.beginPath();
    ctx.arc(jx, jcy, jr, Math.PI, 0);
    ctx.quadraticCurveTo(jx+jr*1.2, jcy+jr*0.5, jx, jcy+jr*0.3);
    ctx.quadraticCurveTo(jx-jr*1.2, jcy+jr*0.5, jx-jr, jcy);
    const jg = ctx.createRadialGradient(jx, jcy, 0, jx, jcy, jr);
    jg.addColorStop(0, `rgba(${cr},${cg},${cb},0.35)`);
    jg.addColorStop(0.6,`rgba(${cr},${cg},${cb},0.1)`);
    jg.addColorStop(1,  `rgba(${cr},${cg},${cb},0.03)`);
    ctx.fillStyle = jg; ctx.fill();
    ctx.strokeStyle = `rgba(${cr},${cg},${cb},0.5)`;
    ctx.lineWidth = 1.5; ctx.stroke();
    const nt = 6 + Math.floor(sr(seed)*5);
    for (let i = 0; i < nt; i++) {
      const tx = jx - jr*0.8 + (i/(nt-1))*jr*1.6;
      const tlen = jr*(1.5 + sr(seed+i)*2);
      ctx.beginPath();
      for (let s = 0; s < 8; s++) {
        const sy2 = jcy + jr*0.25 + (s/7)*tlen;
        const sx2 = tx + Math.sin(t*1.2+seed+i*0.8+s*0.5)*(8+sr(seed+s)*10);
        s === 0 ? ctx.moveTo(sx2, sy2) : ctx.lineTo(sx2, sy2);
      }
      ctx.strokeStyle = `rgba(${cr},${cg},${cb},${0.08+sr(seed+i)*0.2})`;
      ctx.lineWidth = 0.8; ctx.stroke();
    }
    hs(jx, jcy, jr+10, 'Null-Jellyfish ¬∑ ÍóÅÍñ∏íê™', "Translucent void-predators with 50m trailing soul-filaments. They feed by absorbing the bio-electric residue of drowned beings.", 'PREDATOR ¬∑ GLOW ZONE', `${cr},${cg},${cb}`);
  }

  drawJellyfish(L+OW*0.08, TOP+OH*0.22, 28, 0,   255, 200, 1.1);
  drawJellyfish(L+OW*0.28, TOP+OH*0.17, 40, 191, 0,   255, 2.7);
  drawJellyfish(L+OW*0.45, TOP+OH*0.27, 22, 0,   200, 255, 3.3);
  drawJellyfish(L+OW*0.70, TOP+OH*0.14, 35, 57,  255, 20,  4.5);
  drawJellyfish(L+OW*0.88, TOP+OH*0.23, 18, 255, 78,  163, 5.9);

  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  // 3. VOID LEVIATHAN
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    const lvx = L + OW*(0.38 + Math.sin(t*0.08)*0.06);
    const lvy = TOP + OH*(0.52 + Math.sin(t*0.05)*0.03);
    const lvw = OW*0.36, lvh = OH*0.068;

    // aura
    const laura = ctx.createRadialGradient(lvx, lvy, 0, lvx, lvy, lvw*0.7);
    laura.addColorStop(0, 'rgba(80,0,180,0.1)'); laura.addColorStop(1, 'transparent');
    ctx.fillStyle = laura;
    ctx.beginPath(); ctx.ellipse(lvx, lvy, lvw*0.7, lvh*3, 0, 0, Math.PI*2); ctx.fill();

    ctx.save(); ctx.translate(lvx, lvy);

    // body
    const lbg = ctx.createLinearGradient(-lvw/2,-lvh/2, lvw/2, lvh/2);
    lbg.addColorStop(0,'#1a0035'); lbg.addColorStop(0.4,'#0d0028'); lbg.addColorStop(1,'#060018');
    ctx.beginPath(); ctx.ellipse(0, 0, lvw/2, lvh/2, 0, 0, Math.PI*2);
    ctx.fillStyle = lbg; ctx.fill();

    // dorsal spines
    ctx.fillStyle = '#0d001e';
    ctx.beginPath();
    for (let i = 0; i < 18; i++) {
      const spx = -lvw/2 + (i/17)*lvw;
      const spy = -lvh/2 - 7 - Math.sin(i*0.9)*11 + Math.sin(t+i*0.5)*3;
      i === 0 ? ctx.moveTo(spx, spy) : ctx.lineTo(spx, spy);
    }
    ctx.lineTo(lvw/2, -lvh/2); ctx.lineTo(-lvw/2, -lvh/2); ctx.closePath(); ctx.fill();

    // biolume spine dots
    for (let i = 0; i < 28; i++) {
      const bdx = -lvw*0.44 + (i/27)*lvw*0.88;
      const bdy = Math.sin(i*0.6+t*2)*lvh*0.28;
      const bda = 0.35 + Math.sin(t*3+i*0.4)*0.3;
      gCirc(bdx, bdy, 3, '#bf00ff', 191, 0, 255, bda);
    }

    // eye
    gCirc(lvw*0.38, -lvh*0.1, 10, '#000', 255, 0, 80, 0.8);
    gCirc(lvw*0.38, -lvh*0.1, 5,  '#ff0040', 255, 0, 80, 1.0);
    gCirc(lvw*0.38, -lvh*0.1, 2,  '#fff', 255, 255, 255, 0.9);

    // tail fin
    ctx.beginPath();
    ctx.moveTo(-lvw/2, 0);
    ctx.quadraticCurveTo(-lvw/2-38, -lvh*1.5, -lvw/2-68, -lvh*2.4+Math.sin(t*1.5)*14);
    ctx.quadraticCurveTo(-lvw/2-38,  lvh*1.5, -lvw/2, 0);
    ctx.fillStyle = '#0d001e'; ctx.fill();

    // mouth / teeth
    ctx.strokeStyle = 'rgba(255,0,80,0.45)'; ctx.lineWidth = 1.5;
    for (let i = 0; i < 8; i++) {
      const thx = lvw/2 + 4 + (i%2)*8;
      const thy = -lvh*0.15 + (i/7)*lvh*0.3;
      ctx.beginPath(); ctx.moveTo(thx, thy); ctx.lineTo(thx+10, thy+(i%2===0?-8:8)); ctx.stroke();
    }
    ctx.restore();

    hs(lvx, lvy, lvw*0.44, 'Void Leviathan ¬∑ íÖíÍóÅíê™', "Ancient apex predator, 800m long. Its bioluminescent spine-ridge is used by Vy'krath navigators as a living landmark. It has not moved from this zone in 4,000 cycles.", 'APEX ¬∑ MID-VOID ¬∑ 800M', '180,0,255');
  }

  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  // 4. SOUL-HARVEST DRILL PROBE
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    const sdx = L + OW*0.73;
    const sdy = TOP + OH*0.67;
    const sdh = OH*0.13;

    // cable
    ctx.beginPath(); ctx.moveTo(sdx, TOP+20);
    for (let cy2 = TOP+20; cy2 < sdy; cy2 += 4) {
      ctx.lineTo(sdx + Math.sin(cy2*0.05+t*0.3)*6, cy2);
    }
    ctx.strokeStyle = 'rgba(255,160,0,0.28)'; ctx.lineWidth = 2;
    ctx.setLineDash([5,6]); ctx.stroke(); ctx.setLineDash([]);

    // body
    ctx.save(); ctx.translate(sdx, sdy);
    const dbg = ctx.createLinearGradient(-18,-sdh/2, 18, sdh/2);
    dbg.addColorStop(0,'#2a1000'); dbg.addColorStop(0.5,'#402000'); dbg.addColorStop(1,'#1a0800');
    roundRect(-18, -sdh/2, 36, sdh, 5);
    ctx.fillStyle = dbg; ctx.fill();
    ctx.strokeStyle = 'rgba(255,170,0,0.38)'; ctx.lineWidth = 1; ctx.stroke();

    // drill spinner
    ctx.save(); ctx.translate(0, sdh/2+13); ctx.rotate(t*4);
    for (let di = 0; di < 4; di++) {
      ctx.save(); ctx.rotate((di/4)*Math.PI*2);
      ctx.beginPath(); ctx.moveTo(0,0); ctx.lineTo(5,-13); ctx.lineTo(-5,-13); ctx.closePath();
      ctx.fillStyle = `rgba(255,${120+di*20},0,0.7)`; ctx.fill();
      ctx.restore();
    }
    ctx.restore();

    // extraction glow
    const deg2 = ctx.createRadialGradient(0, sdh/2+38, 0, 0, sdh/2+38, 48);
    deg2.addColorStop(0,'rgba(255,200,0,0.18)'); deg2.addColorStop(1,'transparent');
    ctx.fillStyle = deg2;
    ctx.beginPath(); ctx.ellipse(0, sdh/2+38, 48, 28, 0, 0, Math.PI*2); ctx.fill();

    // blink lights
    for (let bli = 0; bli < 4; bli++) {
      const bly = -sdh/2 + (bli/3)*sdh;
      gCirc(14, bly, 3, '#ffaa00', 255, 170, 0, 0.5+Math.sin(t*4+bli*1.2)*0.4);
    }
    ctx.restore();

    hs(sdx, sdy, 42, 'Soul-Harvest Probe ¬∑ Íñ¶íÖíÍóÅ', "Automated drill deployed by the Vy'krath to harvest soul-energy pooled in the trench. The amber glow indicates active extraction ‚Äî 14.3 void-lumens per cycle.", 'DRILL-PROBE ¬∑ SOUL TRENCH', '255,170,0');
  }

  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  // 5. VOID ANGLERFISH
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    const aax = L + OW*(0.18 + Math.sin(t*0.12+2)*0.05);
    const aay = TOP + OH*(0.44 + Math.sin(t*0.09)*0.03);
    const aar = OW*0.05;

    // lure
    const lurX = aax + aar*1.3;
    const lurY = aay - aar*1.6 + Math.sin(t*2)*15;
    const lurg = ctx.createRadialGradient(lurX, lurY, 0, lurX, lurY, 44);
    lurg.addColorStop(0,'rgba(0,255,150,0.22)'); lurg.addColorStop(0.5,'rgba(0,200,100,0.07)'); lurg.addColorStop(1,'transparent');
    ctx.fillStyle = lurg; ctx.beginPath(); ctx.arc(lurX, lurY, 44, 0, Math.PI*2); ctx.fill();
    // stalk
    ctx.beginPath(); ctx.moveTo(aax+aar*0.5, aay-aar*0.5);
    ctx.quadraticCurveTo(aax+aar*1.1, aay-aar, lurX, lurY);
    ctx.strokeStyle = 'rgba(0,200,120,0.45)'; ctx.lineWidth = 2; ctx.stroke();
    gCirc(lurX, lurY, 8, '#00ff96', 0, 255, 150, 0.8+Math.sin(t*3)*0.18);

    // body
    const abg = ctx.createRadialGradient(aax, aay, 0, aax, aay, aar);
    abg.addColorStop(0,'#0a0020'); abg.addColorStop(0.7,'#05000f'); abg.addColorStop(1,'#02000a');
    ctx.beginPath(); ctx.ellipse(aax, aay, aar, aar*0.65, -0.1, 0, Math.PI*2);
    ctx.fillStyle = abg; ctx.fill();
    // teeth
    for (let ti = 0; ti < 6; ti++) {
      const thx = aax+aar*0.8 + ti*5 - 12;
      const thdir = ti%2===0 ? -1 : 1;
      ctx.beginPath(); ctx.moveTo(thx, aay+aar*0.1);
      ctx.lineTo(thx+3, aay+aar*0.1+thdir*12); ctx.lineTo(thx+6, aay+aar*0.1);
      ctx.fillStyle = 'rgba(200,255,230,0.55)'; ctx.fill();
    }
    // eye
    gCirc(aax+aar*0.5, aay-aar*0.2, 7, '#050010', 0, 255, 180, 0.7);
    gCirc(aax+aar*0.5, aay-aar*0.2, 3, '#00ffaa', 0, 255, 170, 1.0);

    hs(aax, aay, aar+14, 'Void-Angler ¬∑ ÍóüÍñ°íê™', "Uses a bioluminescent soul-lure to attract prey into the abyss. Its stomach contains a micro-void portal ‚Äî prey is digested in a separate dimension. Lifespan: unknown.", 'PREDATOR ¬∑ MID-VOID', '0,255,150');
  }

  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  // 6. NULL WHALE
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    const nwx = L + OW*(0.55 + Math.sin(t*0.07)*0.04);
    const nwy = TOP + OH*(0.35 + Math.sin(t*0.06+1)*0.02);
    const nww = OW*0.22, nwh = OH*0.044;

    const nwaura = ctx.createRadialGradient(nwx, nwy, 0, nwx, nwy, nww*0.6);
    nwaura.addColorStop(0,'rgba(57,255,20,0.055)'); nwaura.addColorStop(1,'transparent');
    ctx.fillStyle = nwaura;
    ctx.beginPath(); ctx.ellipse(nwx, nwy, nww*0.6, nwh*4, 0, 0, Math.PI*2); ctx.fill();

    ctx.save(); ctx.translate(nwx, nwy);
    const nwbg = ctx.createLinearGradient(-nww/2,-nwh/2, nww/2, nwh/2);
    nwbg.addColorStop(0,'#001a04'); nwbg.addColorStop(0.5,'#001408'); nwbg.addColorStop(1,'#000e04');
    ctx.beginPath(); ctx.ellipse(0, 0, nww/2, nwh/2, 0, 0, Math.PI*2);
    ctx.fillStyle = nwbg; ctx.fill();

    // glow patches
    for (let gi = 0; gi < 12; gi++) {
      const gpx = (sr(gi*5.1)-0.5)*nww*0.85;
      const gpy = (sr(gi*7.3)-0.5)*nwh*0.7;
      const gpa = 0.25 + Math.sin(t*2+gi)*0.18;
      gCirc(gpx, gpy, 4+sr(gi)*6, '#39ff14', 57, 255, 20, gpa*0.5);
    }
    // dorsal
    ctx.beginPath();
    ctx.moveTo(nww*0.1,-nwh/2);
    ctx.quadraticCurveTo(nww*0.15,-nwh*1.8, nww*0.2,-nwh/2);
    ctx.fillStyle = '#001a04'; ctx.fill();
    // tail
    ctx.beginPath();
    ctx.moveTo(-nww/2, 0);
    ctx.quadraticCurveTo(-nww/2-28,-nwh*1.6, -nww/2-52,-nwh*2.7+Math.sin(t*1.2)*10);
    ctx.quadraticCurveTo(-nww/2-28, nwh*1.6, -nww/2, 0);
    ctx.fillStyle = '#001004'; ctx.fill();
    // eye
    gCirc(nww*0.4,-nwh*0.15, 6,'#000', 57,255,20, 0.8);
    gCirc(nww*0.4,-nwh*0.15, 3,'#39ff14', 57,255,20, 1.0);
    ctx.restore();

    hs(nwx, nwy, nww*0.44, 'Null-Whale ¬∑ íÄ≠Íóüíê´', "Gentle filter-feeders 200m long. Their bioluminescent patches map the void-current patterns. Vy'krath sailors navigate by their glow. They sing in frequencies that shatter obsidian.", 'FILTER-FEEDER ¬∑ 200M', '57,255,20');
  }

  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  // 7. SOUL POOL (trench)
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    const spx = L + OW*0.30;
    const spy = TOP + OH*0.78;
    const spr = 78;

    const spg = ctx.createRadialGradient(spx, spy, 0, spx, spy, spr);
    spg.addColorStop(0,'rgba(255,0,80,0.18)'); spg.addColorStop(0.4,'rgba(180,0,150,0.10)'); spg.addColorStop(1,'transparent');
    ctx.fillStyle = spg;
    ctx.beginPath(); ctx.ellipse(spx, spy, spr, spr*0.38, 0, 0, Math.PI*2); ctx.fill();

    const spi = spr*(0.28+Math.sin(t*1.5)*0.08);
    const spig = ctx.createRadialGradient(spx, spy, 0, spx, spy, spi);
    spig.addColorStop(0,'rgba(255,50,120,0.28)'); spig.addColorStop(1,'transparent');
    ctx.fillStyle = spig;
    ctx.beginPath(); ctx.ellipse(spx, spy, spi, spi*0.38, 0, 0, Math.PI*2); ctx.fill();

    // rising soul wisps
    for (let wi = 0; wi < 8; wi++) {
      const wpx = spx + (sr(wi*3.7+Math.floor(t*0.4))-0.5)*spr*1.1;
      const wstart = spy + sr(wi*1.2)*28;
      const wend = wstart - 38 - sr(wi)*75;
      const wprog = ((t*0.5 + wi*0.3) % 1);
      const wpy = wstart + (wend-wstart)*wprog;
      gCirc(wpx, wpy, 3, 'rgba(255,80,160,0.7)', 255, 0, 100, (1-wprog)*0.45);
    }
    hs(spx, spy, 60, 'Soul Pool ¬∑ íê™Íó•Íñ°', "A naturally-occurring accumulation of bio-electric soul-residue from millennia of creatures dying above. Sacred to the Vy'krath ‚Äî and extremely valuable. 14 void-lumens per litre.", 'SOUL TRENCH ¬∑ SACRED', '255,0,100');
  }

  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  // 8. VOID POLYPS (floor)
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    const POLYPS = [
      {x:L+OW*0.42, col:'#00ffe7', gr:0,   gg:255,gb:231},
      {x:L+OW*0.44, col:'#bf00ff', gr:191, gg:0,  gb:255},
      {x:L+OW*0.46, col:'#39ff14', gr:57,  gg:255,gb:20},
      {x:L+OW*0.48, col:'#ff4ea3', gr:255, gg:78, gb:163},
    ];
    for (const [pi, p] of POLYPS.entries()) {
      const ph = 20 + sr(pi*4.1)*28;
      ctx.beginPath();
      ctx.moveTo(p.x-5, floorY);
      ctx.quadraticCurveTo(p.x+Math.sin(t*1.3+pi)*8, floorY-ph*0.6, p.x, floorY-ph);
      ctx.quadraticCurveTo(p.x+Math.sin(t+pi)*8,   floorY-ph*0.6, p.x+5, floorY);
      ctx.strokeStyle = p.col+'aa'; ctx.lineWidth = 3; ctx.stroke();
      gCirc(p.x, floorY-ph, 5+sr(pi)*4, p.col, p.gr, p.gg, p.gb, 0.6+Math.sin(t*2+pi)*0.28);
      hs(p.x, floorY-ph, 18, 'Void-Polyp ¬∑ Íó•Íñ∏íê™', "Sessile colonial organisms anchored into the obsidian floor. Each tip is a sensory node of the island's hive coral network. They pulse in sync with the Null-Thought.", 'SESSILE ¬∑ FLOOR', `${p.gr},${p.gg},${p.gb}`);
    }
  }

  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  // 9. THE NUL-DREAMER (abyss, barely visible)
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    const ndx = L + OW*0.50;
    const ndy = TOP + OH*0.91;
    const ndR = OW*0.24;
    const nda = 0.035 + Math.sin(t*0.3)*0.018;

    const ndg = ctx.createRadialGradient(ndx, ndy, 0, ndx, ndy, ndR);
    ndg.addColorStop(0, `rgba(80,0,40,${nda*3})`);
    ndg.addColorStop(0.4,`rgba(40,0,20,${nda})`);
    ndg.addColorStop(1, 'transparent');
    ctx.fillStyle = ndg;
    ctx.beginPath(); ctx.ellipse(ndx, ndy, ndR, ndR*0.48, 0, 0, Math.PI*2); ctx.fill();

    // faint eye hints
    for (let ei = -2; ei <= 2; ei++) {
      const ex = ndx + ei*58;
      const ey = ndy - 18 + Math.sin(t*0.4+ei)*5;
      const ea = 0.04 + Math.sin(t*0.6+ei*0.8)*0.035;
      gCirc(ex, ey, 6, `rgba(255,0,60,${ea})`, 255, 0, 40, ea);
    }
    hs(ndx, ndy, ndR*0.5, 'The Nul-Dreamer ¬∑ íÖíÍóÅíê´', '"It has been mapped only once. The cartographer did not return the same." ‚Äî Vy\'krath Archive, Cycle 0. Estimated size: continent-class. It is dreaming.', 'UNKNOWN ¬∑ NULL ABYSS ¬∑ ‚àû', '255,0,60');
  }

  // ‚îÄ‚îÄ Tooltip hit detection
  let hit = null;
  for (const h of hotspots) {
    const hdx = mx - h.x, hdy = my - h.y;
    if (hdx*hdx + hdy*hdy < h.r*h.r) { hit = h; break; }
  }
  if (hit) {
    ttName.textContent = hit.name;
    ttDesc.textContent = hit.desc;
    ttTag.textContent  = hit.tag;
    ttTag.style.setProperty('--tc', `rgba(${hit.tc},0.75)`);
    ttTag.style.borderColor = `rgba(${hit.tc},0.4)`;
    tooltip.classList.add('show');
    let ttx = mx+18, tty = my-14;
    if (ttx + 240 > W - R) ttx = mx - 242;
    if (tty < TOP+10) tty = TOP+10;
    tooltip.style.left = ttx+'px'; tooltip.style.top = tty+'px';
    cursorEl.style.width = '20px'; cursorEl.style.height = '20px';
    cursorEl.style.borderColor = `rgba(${hit.tc},0.9)`;
  } else {
    tooltip.classList.remove('show');
    cursorEl.style.width  = '12px'; cursorEl.style.height = '12px';
    cursorEl.style.borderColor = 'rgba(0,255,200,0.8)';
  }

  requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>
